/*
 * bootbox 弹窗插件：详情参见：bootbox-4.2.0.js
 */
;(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof exports==="object"){module.exports=b(require("jquery"))}else{a.bootbox=b(a.jQuery)}}}(this,function init(j,d){var n={dialog:"<div class='bootbox modal sl_mod' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",progress:"<div class='modal-progress'><div class='progress' ><div class='progress-bar progress-bar-info progress-bar-striped active' role='progressbar' aria-valuenow='0' aria-valuemin='0' aria-valuemax='100'  style='width: 0%;'>0%</div></div></div>",footer:"<div class='modal-footer'></div>",fixed:"<div class='modal-fixed'></div>",closeButton:'<input type="hidden" name="focusInput"/><button type="button" class="bootbox-close-button btn-sm close bootbox-close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>',form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}};var g={locale:"en",backdrop:true,animate:true,className:null,closeButton:true,show:true,progress:false,progressID:"bootboxStatus",btnlock:false,draggable:false,container:"body",width:"800px",height:d,fixedTarget:null,offAtOnce:true,offsetHeight:200,offsetWidth:20,beforeRender:j.noop,afterRender:j.noop};var i={};function q(s){var r=a[g.locale];return r?r[s]:a.en[s]}function e(v,u,s,x){v.stopPropagation();v.preventDefault();var w=j.extend({},this,{options:s,api:window.api,content:self||window,dialog:u,document:u.find(".bootbox-body"),close:function(){u.modal("hide")},reload:function(){if(j.trim(s.href).length>0){var B=u.find(".modal-body");var A=u.find(".modal-dialog");var z='<h3 class="header smaller lighter grey loading-spinner align-center"  style="min-height: 100px !important;"><i class="icon-spinner icon-spin orange bigger-160"></i><span>&nbsp;&nbsp;\u9875\u9762\u6b63\u5728\u52a0\u8f7d\u4e2d...</span></h3>';B.find(".bootbox-body").empty().html(z);if(s.href.indexOf("?")>-1){s.href=s.href+"&time="+(new Date()).getTime()}else{s.href=s.href+"?time="+(new Date()).getTime()}window.api={data:s.data||{},opener:s.opener,document:u.find(".bootbox-body")};var y=j.extend(true,{},s.data||{});delete y.colModel;window.setTimeout(function(){j.ajaxSetup({async:true});B.find(".bootbox-body").empty().load(s.href,y,function(){s.isLoaded=true;u.triggerHandler("loaded.bs.modal")});j.ajaxSetup({async:false})},200)}},button:function(z){if(z&&z.id){var y=j.extend(true,{},z);delete y.id;u.find(".modal-footer").find("button[data-bb-handler='"+z.id+"']").prop(y)}}});if(s.btnlock){var t=j(v.target);j.when(j.Deferred(function(z){t.button("loading");var y=j.isFunction(x)&&x.call(j.extend(w,{reset:function(){z.resolve()}}),v)===false;if(!y){u.modal("hide")}}).promise()).always(function(){t.button("reset")})}else{var r=j.isFunction(x)&&x.call(j.extend(w,{reset:function(){}}),v)===false;if(!r){u.modal("hide")}}}function k(u){var r,s=0;for(r in u){s++}return s}function l(t,s){var r=0;j.each(t,function(u,v){s(u,v,r++)})}function c(r){var t;var s;if(typeof r!=="object"){throw new Error("Please supply an object of options")}if(!r.href&&!r.message){throw new Error("Please specify a href or message")}r=j.extend({},g,r);if(!r.buttons){r.buttons={}}r.backdrop=r.backdrop?"static":false;t=r.buttons;s=k(t);l(t,function(w,v,u){if(j.isFunction(v)){v=t[w]={callback:v}}if(j.type(v)!=="object"){throw new Error("button with key "+w+" must be an object")}if(!v.label){v.label=w}if(!v.className){if(s<=2&&u===s-1){v.className="btn-default"}else{v.className="btn-primary"}}});return r}function h(s,t){var u=s.length;var r={};if(u<1||u>4){throw new Error("Invalid argument length")}if(u===3||typeof s[0]==="string"){r[t[0]]=s[0];r[t[1]]=s[1];r[t[2]]=s[2]}else{if(u===2||typeof s[0]==="string"){r[t[0]]=s[0];r[t[1]]=s[1]}else{r=s[0]}}return r}function m(t,r,s){return j.extend(true,{},t,h(r,s))}function f(u,v,t,s){var r={className:"bootbox-"+u,buttons:p.apply(null,v)};return o(m(r,s,t),v)}function p(){var v={};for(var t=0,r=arguments.length;t<r;t++){var u=arguments[t];var s=u.toLowerCase();var w=u.toUpperCase();v[s]={label:q(w)}}return v}function o(r,t){var s={};l(t,function(u,v){s[v]=true});l(r.buttons,function(u){if(s[u]===d){throw new Error("button key "+u+" is not allowed (options are "+t.join("\n")+")")}});return r}i.alert=function(){var r;r=f("alert",["ok"],["title","message","callback"],arguments);r.draggable=true;if(arguments.length==4){j.extend(r,arguments[3])}if(r.callback&&!j.isFunction(r.callback)){throw new Error("alert requires callback property to be a function when provided")}r.buttons.ok.callback=r.onEscape=r.onClose=function(){if(j.isFunction(r.callback)){return r.callback.call(this)}return true};r.isLoaded=false;return i.dialog(r)};i.confirm=function(){var r;r=f("confirm",["confirm","cancel"],["title","message","callback"],arguments);r.draggable=true;if(arguments.length==4){j.extend(true,r,arguments[3])}r.buttons.cancel.callback=r.onEscape=r.onClose=function(){return r.callback.call(this,false)};r.buttons.confirm.callback=function(){return r.callback.call(this,true)};if(!j.isFunction(r.callback)){throw new Error("confirm requires a callback")}r.isLoaded=false;return i.dialog(r)};i.prompt=function(){var B;var u;var y;var r;var z;var t;var x;r=j(n.form);u={className:"bootbox-prompt",buttons:p("confirm","cancel"),value:"",inputType:"text"};B=o(m(u,arguments,["title","callback"]),["confirm","cancel"]);B.draggable=true;if(arguments.length==3){j.extend(true,B,arguments[2])}t=(B.show===d)?true:B.show;var w=["date","time","number"];var v=document.createElement("input");v.setAttribute("type",B.inputType);if(w[B.inputType]){B.inputType=v.type}B.message=r;B.buttons.cancel.callback=B.onEscape=B.onClose=function(){return B.callback.call(this,null)};B.buttons.confirm.callback=function(){var D;switch(B.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":D=z.val();break;case"checkbox":var C=z.find("input:checked");D=[];l(C,function(E,F){D.push(j(F).val())});break}return B.callback.call(this,D)};B.show=false;if(!B.title){throw new Error("prompt requires a title")}if(!j.isFunction(B.callback)){throw new Error("prompt requires a callback")}if(!n.inputs[B.inputType]){throw new Error("invalid prompt type")}z=j(n.inputs[B.inputType]);switch(B.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":z.val(B.value);break;case"select":var s={};x=B.inputOptions||[];if(!x.length){throw new Error("prompt with select requires options")}l(x,function(C,D){var E=z;if(D.value===d||D.text===d){throw new Error("given options in wrong format")}if(D.group){if(!s[D.group]){s[D.group]=j("<optgroup/>").attr("label",D.group)}E=s[D.group]}E.append("<option value='"+D.value+"'>"+D.text+"</option>")});l(s,function(C,D){z.append(D)});z.val(B.value);break;case"checkbox":var A=j.isArray(B.value)?B.value:[B.value];x=B.inputOptions||[];if(!x.length){throw new Error("prompt with checkbox requires options")}if(!x[0].value||!x[0].text){throw new Error("given options in wrong format")}z=j("<div/>");l(x,function(C,D){var E=j(n.inputs[B.inputType]);E.find("input").attr("value",D.value);E.find("label").append(D.text);l(A,function(F,G){if(G===D.value){E.find("input").prop("checked",true)}});z.append(E)});break}if(B.placeholder){z.attr("placeholder",B.placeholder)}if(B.pattern){z.attr("pattern",B.pattern)}r.append(z);r.on("submit",function(C){C.preventDefault();y.find(".btn-primary").click()});B.isLoaded=false;y=i.dialog(B);y.off("shown.bs.modal");y.on("shown.bs.modal",function(){z.focus()});if(t===true){y.modal("show")}return y};i.loadBody=function(s,r,u){if(s&&r&&j.trim(r.href).length>0){var w=j(s).find(".modal-body");if(w.size()>0){var v='<h3 class="header smaller lighter grey loading-spinner align-center"  style="min-height: 100px !important;"><i class="icon-spinner icon-spin orange bigger-160"></i><span>&nbsp;&nbsp;\u9875\u9762\u6b63\u5728\u52a0\u8f7d\u4e2d...</span></h3>';w.find(".bootbox-body").html(v);if(r.href.indexOf("?")>-1){r.href=r.href+"&time="+(new Date()).getTime()}else{r.href=r.href+"?time="+(new Date()).getTime()}window.api={data:r.data||{},opener:j("div.bootbox").size()>0?j("div.bootbox").last():document.body,document:s.find(".bootbox-body")};var t=j.extend(true,{},r.data||{});delete t.colModel;j.ajaxSetup({async:false});w.find(".bootbox-body").load(r.href,t,function(){r.isLoaded=true;u.resolve()});j.ajaxSetup({async:true})}}};i.dialog=function(G){delete g.width;G=c(G);G.opener=j("div.bootbox").size()>0?j("div.bootbox").last():document.body;G.beforeRender.call(this);var A=j(n.dialog);var E=A.find(".modal-body");var w=A.find(".modal-dialog");var s=A.find(".modal-header");var v=A.find(".bootbox-body");var y=A.find(".modal-footer");function C(){return(G.className=="bootbox-alert"||G.className=="bootbox-confirm"||G.className=="bootbox-prompt")}function t(){var I=j(window).width();var H=j.isFunction(G.width)?G.width.call(this):G.width;if(H&&/.*%$/.test(H)){return{windowWidth:I,realWidth:(I*parseFloat(H))/100}}H=parseInt(H);if(C()){return{windowWidth:I,realWidth:H}}var J=Math.max(Math.min(H,I),0);if(H>=I){J=I-G.offsetWidth*2}else{if(I<=768){J=I-G.offsetWidth*2}else{if(H>=300){J=H}else{if(I>1280){J=I-G.offsetWidth*4}else{if(I>768&&I<=1280){J=I-G.offsetWidth*2}}}}}J=Math.max(J,300);return{windowWidth:I,realWidth:J}}function F(){E=A.find(".modal-body");w=A.find(".modal-dialog");s=A.find(".modal-header");v=A.find(".bootbox-body");y=A.find(".modal-footer");var I=j(window).width();var H=j(window).height();var M=j.fn.actual?j("#navbar_container").actual("outerHeight"):j("#navbar_container").outerHeight(true);var J=Math.abs(H-M);var N=(j.fn.actual?w.actual("outerHeight"):w.outerHeight(true))||w.height();var L=(j.fn.actual?s.actual("outerHeight"):s.outerHeight(true))||s.height();var P=(j.fn.actual?y.actual("outerHeight"):y.outerHeight(true))||y.height();var K=N-L-P;var O=Math.abs(Math.abs(J-G.offsetHeight)-L-P);return{windowWidth:I,windowHeight:H,navbarHeight:M,containerHeight:J,dialogHeight:N,headerHeight:L,contentHeight:K,footerHeight:P,maxHeight:O,top:function(){if(C()){return(H-N)/2}return(J-N)/2+M}.call(this)}}j(A).data("options",G);var B=G.buttons;var x="";var z={onEscape:G.onEscape||j.noop,onClose:G.onClose||G.onEscape||j.noop};l(B,function(I,H){x+="<button id='btn_"+I+"' data-bb-handler='"+I+"' data-loading-text='"+H.label+"' type='button' class='btn btn-sm "+H.className+"'>"+H.label+"</button>";z[I]=H.callback});if(G.animate===true){A.addClass("fade")}if(G.width){var u=t();var D=u.realWidth;if(D){A.className=A.className||"bootbox-"+D;w.attr({style:"width: "+D+"px;"})}}if(G.height){}if(G.className){A.addClass(G.className)}else{A.addClass("bootbox-dialog")}if(G.title){E.before(n.header)}if(G.closeButton){var r=j(n.closeButton);if(G.title){A.find(".modal-header").prepend(r)}else{r.css("margin-top","-10px").prependTo(E)}}if(G.modalName){A.attr("name",G.modalName);A.attr("id",G.modalName)}if(G.title){A.find(".modal-title").html(G.title)}if(x.length){E.after(n.footer);A.find(".modal-footer").html(x)}if(G.progress){E.after(n.progress);A.find(".progress-bar").attr("id",G.progressID||"bootboxStatus")}A.on("loaded.bs.modal",function(){if(j.isFunction(G.onLoaded)){G.onLoaded.call(this,A)}});j.when(j.Deferred(function(H){A.data("def",H);if(G.message){E.find(".bootbox-body").html(G.message);H.resolve()}else{i.loadBody(A,G,H)}}).promise()).done(function(){j(A).trigger("loaded.bs.modal")});A.on("hide.bs.modal",function(H){A.off("resize.bs.modal").off("resized.bs.modal");if(j.isFunction(G.onHide)){G.onHide.call(this,H)}});A.on("hidden.bs.modal",function(H){if(H.target===this){A.remove()}if(j("div.bootbox").size()==0){j(document.body).removeClass("modal-open")}if(j.fn.fixed&&G.fixedTarget&&j(G.fixedTarget).size()==1){j(G.fixedTarget).fixed("destroy")}if(j.isFunction(G.onHidden)){G.onHidden.call(this,H)}});A.on("resize.bs.modal",function(I){var H=t();var J=H.realWidth;w.css({width:J+"px"});if(j.isFunction(G.onResize)){G.onResize.call(this,I)}});A.on("resized.bs.modal",function(I){var K=F();var H=t();var J=H.realWidth;if(H.windowWidth>768||C()){w.attr({style:"width: "+J+"px;"});w.css({top:Math.max(K.top,0)+"px",width:J+"px"})}else{w.css({top:K.navbarHeight+"px",width:J+"px"})}if(j.isFunction(G.onResized)){G.onResized.call(this,I)}});A.on("show.bs.modal",function(H){if(G.backdrop){A.next(".modal-backdrop").addClass("bootbox-backdrop")}if(j.isFunction(G.onShow)){G.onShow.call(this,H)}});A.on("shown.bs.modal",function(K){var J=j("div.bootbox").size();if(J>1){var H=parseInt(A.css("z-index")||"1050");var I=H+((J-1)*100);A.css("z-index",I+100);if(G.backdrop!=false){j(document.body).find("div.modal-backdrop").last().css("z-index",I)}}A.find("input[name='focusInput']").focus();if(G.draggable&&j.fn.draggable){w.draggable({scroll:true,containment:w.closest(".bootbox"),handle:".modal-header,.modal-footer",start:function(L,M){M.helper.addClass("modal-dialog-reset")}});A.find(".modal-header,.modal-footer").css("cursor","move")}G.afterRender.call({api:window.api,content:self||window,document:A.find(".bootbox-body"),close:function(){A.modal("hide")},button:function(M){if(M&&M.id){var L=j.extend(true,{},M);delete L.id;A.find(".modal-footer").find("button[data-bb-handler='"+M.id+"']").prop(L)}}});if(j.isFunction(G.onShown)){G.onShown.call(this,K)}});A.on("escape.close.bb",function(H){if(z.onEscape){e(H,A,G,z.onEscape)}});A.on("click",".modal-footer button",function(I){var H=j(this).data("bb-handler");e(I,A,G,z[H])});A.on("click",".bootbox-close-button",function(H){if(z.onClose){e(H,A,G,z.onClose)}});A.on("keyup",function(H){if(H.which===27){A.trigger("escape.close.bb")}});j(G.container).append(A);j.when(A.data("def")).done(function(){var H=F();if(C()){w.css({top:Math.max(H.top,0)+"px"})}A.modal({backdrop:G.backdrop,keyboard:true,replace:true,show:false});if(G.show){A.modal("show")}j(window).resize(function(I){var J=w.data("def");if(J){return false}j.when(j.Deferred(function(K){w.data("def",K);A.triggerHandler("resized.bs.modal",[I]);window.setTimeout(function(){K.resolve()},1000)}).promise()).done(function(){w.removeData("def")})})});return A};i.setDefaults=function(){var r={};if(arguments.length===2){r[arguments[0]]=arguments[1]}else{r=arguments[0]}j.extend(g,r)};var b=function(s){if(s){var r=s.contentWindow;try{s.src="about:blank";r.document.write("");r.document.close();r.document.clear()}catch(t){}j(s).remove()}};i.hideModal=function(r){j(".bootbox[name="+r+"]").find("iframe").each(function(s,t){if(typeof b=="function"){b(t)}});j(".bootbox[name="+r+"]").modal("hide")};i.hideAll=function(){j(".bootbox").find("iframe").each(function(r,s){if(typeof b=="function"){b(s)}});j(".bootbox").modal("hide")};var a={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",CANCEL:"\u05d1\u05d9\u05d8\u05d5\u05dc",CONFIRM:"\u05d0\u05d9\u05e9\u05d5\u05e8"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"At\u0161aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u0101t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"\u0130ptal",CONFIRM:"Onayla"},zh_CN:{OK:"\u786e  \u5b9a",CANCEL:"\u53d6  \u6d88",CONFIRM:"\u786e  \u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};i.init=function(r){return init(r||j)};return i}));
/*
 * bootbox 默认参数：详情参见：bootbox-setDefaults.js
 */
jQuery(function(a){bootbox.setDefaults({locale:"zh_CN",show:true,progress:false,btnlock:false,backdrop:false,draggable:false,closeButton:true,animate:true,className:"my-modal"})});
/*
 * bootbox Jquery适配：详情参见：jquery.bootbox.js
 */
;(function(a){a.extend({message:function(e,d,b,c){b=b||a.noop;c=c||{};a.dialog(a.extend(true,{title:e||"\u63d0\u793a\u4fe1\u606f",message:d,width:c.width||"800px",modalName:c.modalName||"msgModal",buttons:{cancel:{label:"\u786e \u5b9a",className:"btn-default",callback:function(){if(a.isFunction(b)){return b.call(this)}else{return true}}}}},c||{}))},alert:function(g,b,d){if(g&&g.indexOf("timeSettingInfo")>10){d=a.extend(true,{},{width:"700px",modalName:"timeSettingModal"},d||{});if(a("#"+d.modalName).size()>0){return}a.message("\u529f\u80fd\u65f6\u95f4\u5f00\u653e\u63d0\u793a",g,b,d)}else{var f=a.getTextLength(g||"");var c=Math.ceil(f%50/50)+parseInt(f/50);var e=300+(c>0?(c-1)*30:0);d=a.extend(true,{},{width:e+"px",modalName:"alertModal"},d||{});if(a("#"+d.modalName).size()>0){return}bootbox.alert("\u63d0\u793a\u4fe1\u606f",'<div class="alert alert-modal"><p>'+g+"</p></div>",function(h){if(a.isFunction(b)){return b.call(this,h)}else{return true}},d)}},error:function(g,b,d){if(g&&g.indexOf("timeSettingInfo")>10){d=a.extend(true,{},{width:"700px",modalName:"timeSettingModal"},d||{});if(a("#"+d.modalName).size()>0){return}a.message("\u529f\u80fd\u65f6\u95f4\u5f00\u653e\u63d0\u793a",g,b,d)}else{var f=a.getTextLength(g||"");var c=Math.ceil(f%50/50)+parseInt(f/50);var e=300+(c>0?(c-1)*30:0);d=a.extend(true,{},{width:e+"px",modalName:"errorModal"},d||{});if(a("#"+d.modalName).size()>0){return}bootbox.alert("\u9519\u8bef\u63d0\u793a",'<div class="error error-modal"><p>'+g+"</p></div>",function(h){if(a.isFunction(b)){return b.call(this,h)}else{return true}},d)}},success:function(g,b,d){if(g&&g.indexOf("timeSettingInfo")>10){d=a.extend(true,{},{width:"700px",modalName:"timeSettingModal"},d||{});if(a("#"+d.modalName).size()>0){return}a.message("\u529f\u80fd\u65f6\u95f4\u5f00\u653e\u63d0\u793a",g,b,d)}else{var f=a.getTextLength(g||"");var c=Math.ceil(f%50/50)+parseInt(f/50);var e=300+(c>0?(c-1)*30:0);d=a.extend(true,{},{width:e+"px",modalName:"successModal"},d||{});if(a("#"+d.modalName).size()>0){return}bootbox.alert("\u6210\u529f\u63d0\u793a",'<div class="success success-modal"><p>'+g+"</p></div>",function(h){if(a.isFunction(b)){return b.call(this,h)}else{return true}},d)}},confirm:function(g,b,d){if(g&&g.indexOf("timeSettingInfo")>10){d=a.extend(true,{},{width:"700px",modalName:"timeSettingModal"},d||{});if(a("#"+d.modalName).size()>0){return}a.message("\u529f\u80fd\u65f6\u95f4\u5f00\u653e\u63d0\u793a",g,b,d)}else{var f=a.getTextLength(g||"");var c=Math.ceil(f%50/50)+parseInt(f/50);var e=300+(c>0?(c-1)*30:0);d=a.extend(true,{},{width:e+"px",modalName:"confirmModal"},d||{});if(a("#"+d.modalName).size()>0){return}bootbox.confirm("\u8b66\u544a\u7a97\u53e3",'<div class="alert confirm-modal"><p>'+g+"</p></div>",function(h){if(a.isFunction(b)){return b.call(this,h)}else{return true}},d)}},prompt:function(b,c){c=a.extend(true,{},{width:"300px",modalName:"promptModal"},c||{});if(a("#"+c.modalName).size()>0){return}bootbox.prompt("\u63d0\u793a\u7a97\u53e3",function(d){if(a.isFunction(b)){return b.call(this,d)}else{return true}},c)},showDialog:function(b,d,c){c=c||{};a.dialog(a.extend({},c||{},{title:d,href:b||"",data:c.data||{}}))},dialog:function(b){var d={title:"\u63d0\u793a\u7a97\u53e3",href:"",data:{},message:"",locale:"zh_CN",backdrop:"static",keyboard:true,offAtOnce:true,draggable:true,onLoaded:null,onClose:null,onEscape:null,onHide:null,onHidden:null,onResize:null,onResized:null,onShow:null,onShown:function(){a('[data-toggle*="validation"]').trigger("validation");a('[data-toggle*="fixed"]').trigger("fixed");if(a.fn.tooltip){a('[data-toggle*="tooltip"]').tooltip({container:"body"})}if(a.fn.fixed&&b.fixedTarget&&a(b.fixedTarget).size()==1){a(b.fixedTarget).fixed({scrollElement:a("#"+b.modalName),container:a("#"+b.modalName).find(".modal-dialog"),z_index:a("#"+b.modalName).css("z-index")})}}};var c=a.extend({},d,b);if(a.founded(c.data["ckUrl"])){c.data["ckUrl"]=encodeURIComponent(c.data["ckUrl"]||"")}if(a.founded(c.data["shUrl"])){c.data["shUrl"]=encodeURIComponent(c.data["shUrl"]||"")}bootbox.dialog(c)},closeModal:function(b){bootbox.hideModal(b)},closeAllModal:function(){bootbox.hideAll()}});a.fn.reloadDialog=function(b){return this.each(function(){var d=a(this),c=a(d).data("options");if(!c){return}if(a(d).hasClass("bootbox")){a.when(a.Deferred(function(e){d.data("def",e);if(c.message){d.find(".bootbox-body").html(c.message);e.resolve()}else{bootbox.loadBody(d,a.extend(c,b||{}),e)}}).promise()).done(function(){a(d).trigger("loaded.bs.modal")})}})};a.exportDialog=function(b,d,l,m,g,p){if(!a.founded(d)){throw new Error("dcclbh \u4e0d\u80fd\u4e3a\u7a7a !")}var o=_path+"/niutal/drdc/export_exportInitDcpz.html";var j={dcclbh:d};if(m&&m.length>0){var k=0;for(var h=0;h<m.length;h++){var f=m[h];if(a.trim(f.label).length>0&&a.trim(f.index).length>0&&f.hidden!=true){j["colConfig["+k+"].zd"]=f.name;j["colConfig["+k+"].zdmc"]=f.label;j["colConfig["+k+"].xssx"]=k;k++}}}jQuery.ajaxSetup({async:false});a.post(o,j);jQuery.ajaxSetup({async:true});l=l||{};l.dcclbh=d;if(a.founded(g)&&a(g).size()>0){var n=a(g).jqGrid("getGridParam","sortname");var e=a(g).jqGrid("getGridParam","sortorder");if(a.defined(n)){l["queryModel.sortName"]=n}if(a.defined(e)){l["queryModel.sortOrder"]=e}}var c=a.buildForm("drdcForm",b,l);a.dialog({title:"\u81ea\u5b9a\u4e49\u5bfc\u51fa",href:_path+"/niutal/drdc/export_exportConfig.html",data:{dcclbh:d},width:"900px",modalName:"ExportModal",buttons:{bcdc:{label:"\u5bfc\u51fa",className:"btn-primary",callback:function(){var i=this.content.saveConfig(c,p);if(a.defined(i)){return i}else{return true}}},cancel:{label:"\u53d6 \u6d88",className:"btn-default"}}})};a.showSortDialog=function(d,c,b){if(!a.founded(d)){throw new Error("\u4e1a\u52a1\u6570\u636eID\u4e0d\u80fd\u4e3a\u7a7a !")}if(!a.founded(c)){throw new Error("\u529f\u80fd\u6a21\u5757\u4ee3\u7801\u4e0d\u80fd\u4e3a\u7a7a !")}b=(a.defined(b)&&jQuery.isFunction(b))?b:a.noop;var e={ywsj_id:d,gnmkdm:c};a.dialog({title:"\u8bbe\u7f6e\u6392\u5e8f\u4f18\u5148\u7ea7",href:_path+"/xtgl/ywsjPxxx_cxYwsjPxxx.html",data:e,width:"500px",modalName:"sortModal",buttons:{success:{label:"\u786e \u5b9a",className:"btn-primary",callback:function(){var f=[];a("#sort_table_body").find("tr.sort-item").each(function(h,j){var g=a(j).data("order");f.push({yxj:(h+1),pxfs:(a.founded(g)?g:"asc"),zdmc:a(j).data("sort")});e["list["+h+"].yxj"]=(h+1);e["list["+h+"].pxfs"]=f[h]["pxfs"];e["list["+h+"].zdmc"]=f[h]["zdmc"]});a.ajaxSetup({async:false});a.post(_path+"/xtgl/ywsjPxxx_cxYwsjPxxxForUpdate.html",e,function(g){a.closeModal("sortModal");b.call(this,f)});a.ajaxSetup({async:true});return false}},cancel:{label:"\u53d6 \u6d88",className:"btn-default"}}})};a.fullAvatarDialog=function(c,b,d){b.upload_url=encodeURIComponent(b.upload_url||"");b.src_url=encodeURIComponent(b.src_url||"");a.dialog({title:c||"\u5bcc\u5934\u50cf\u4e0a\u4f20",draggable:false,href:_path+"/editor/fullAvatar_cxFullAvatarUpload.html",data:b||{},width:"700px",modalName:"FullAvatarUpload",onHidden:function(){if(a.isFunction(d)){d.call(this)}},buttons:{success:{label:"\u4e0a \u4f20",className:"btn-primary",callback:function(){if(swf_object){swf_object.call("upload")}return false}},reelect:{label:"\u9009 \u62e9",className:"btn-primary",callback:function(){if(swf_object){swf_object.call("changepanel","upload")}return false}},cancel:{label:"\u5173 \u95ed",className:"btn-default",callback:function(){}}}})};a.fullAvatarURLDialog=function(c,d,f,b,e){if(!a.founded(c)){throw new Error("paramURL \u4e0d\u80fd\u4e3a\u7a7a !")}a.post(c,f,function(g){a.fullAvatarDialog(d,a.extend({},b||{},g||{}),e)})};a.reportDialog=function(b,d){b=b||{};if(!a.founded(b.reportID)){throw new Error("reportID \u4e0d\u80fd\u4e3a\u7a7a !")}var c=a.extend(true,{},b,{reportID:encodeURIComponent(b.reportID||""),viewType:"dialog",searchType:(b.searchType||""),gnmkdm:(b.gnmkdm||a("#gnmkdmKey").val())});a.dialog({title:b.title||"\u62a5\u8868\u9884\u89c8",href:_path+"/report/report_cxReportIndex.html",data:c,width:(b.width||a("#yhgnPage").innerWidth()+"px"),modalName:"ReportModal",onHidden:function(){if(a.isFunction(d)){d.call(this)}},buttons:{cancel:{label:"\u53d6 \u6d88",className:"btn-default"}}})};a.batchModifyDialog=function(b,d){b=b||{};var c=a.extend(true,{},b,{gnmkdm:(b.gnmkdm||a("#gnmkdmKey").val())});if(!a.founded(c.gnmkdm)){throw new Error("gnmkdm \u4e0d\u80fd\u4e3a\u7a7a !")}if(!a.founded(c.plxgURL)){throw new Error("plxgURL \u4e0d\u80fd\u4e3a\u7a7a[\u8be5\u8def\u5f84\u4e3a\u6700\u7ec8\u6267\u884c\u6279\u91cf\u4fee\u6539\u64cd\u4f5c\u7684\u8bf7\u6c42\u8def\u5f84] !")}a.dialog(a.extend({},addConfig,{title:b.title||"\u6279\u91cf\u4fee\u6539\u6570\u636e",href:_path+"/xtgl/plxg_cxPlxgSettings.html",data:c,width:(b.width||"600px"),modalName:"ReportModal",onHidden:function(){if(a.isFunction(d)){d.call(this)}}}))};a.fn.clearElements=function(){return this.each(function(){if(a(this).is("input,select,textarea")){a(this).clearFields();a(this).trigger("chosen:updated")}else{var c=a(this).find("input,select,textarea").filter(function(d){return !a(this).hasClass("ignore")});var b=a(c).filter('[data-clear="true"]');if(b.size()>0){a(b).clearFields();a(b).trigger("chosen:updated")}else{a(c).clearFields();a(c).trigger("chosen:updated")}}})}})(jQuery);var viewConfig={width:"500px",modalName:"viewModal",offAtOnce:true,buttons:{cancel:{label:"\u5173 \u95ed",className:"btn-default",callback:function(){}}}};var addConfig={width:"900px",modalName:"addModal",formName:"ajaxForm",gridName:"tabGrid",offAtOnce:false,buttons:{success:{label:"\u786e \u5b9a",className:"btn-primary",callback:function(){var b=this;var a=b.options||{};submitForm(a.formName||"ajaxForm",function(c,d){b.reset();if($.type(c)==="string"){if(c.indexOf("\u6210\u529f")>-1){$.success(c,function(){if(a.offAtOnce){$.closeModal(a.modalName)}$(b.document).clearElements();var e=$("#"+a.gridName||"tabGrid");if($(e).size()>0){$(e).reloadGrid()}})}else{if(c.indexOf("\u5931\u8d25")>-1){$.error(c,function(){})}else{$.alert(c,function(){})}}}else{if($.isPlainObject(c)){if(c.status=="success"){$.success(c.message,function(){if(a.offAtOnce){$.closeModal(a.modalName)}$(b.document).clearElements();var e=$("#"+a.gridName||"tabGrid");if($(e).size()>0){$(e).reloadGrid()}})}else{if(c.status=="error"){$.error(c.message)}else{$.alert(c.message)}}}}});return false}},cancel:{label:"\u5173 \u95ed",className:"btn-default"}}};var modifyConfig={width:"900px",modalName:"modifyModal",formName:"ajaxForm",gridName:"tabGrid",offAtOnce:true,buttons:{success:{label:"\u786e \u5b9a",className:"btn-primary",callback:function(){var b=this;var a=b.options||{};submitForm(a.formName||"ajaxForm",function(c,d){b.reset();if($.type(c)==="string"){if(c.indexOf("\u6210\u529f")>-1){$.success(c,function(){if(a.offAtOnce){$.closeModal(a.modalName||"modifyModal")}var e=$("#"+a.gridName||"tabGrid");if($(e).size()>0){$(e).reloadGrid()}})}else{if(c.indexOf("\u5931\u8d25")>-1){$.error(c,function(){})}else{$.alert(c,function(){})}}}else{if($.isPlainObject(c)){if(c.status=="success"){$.success(c.message,function(){if(a.offAtOnce){$.closeModal(a.modalName||"modifyModal")}var e=$("#"+a.gridName||"tabGrid");if($(e).size()>0){$(e).reloadGrid()}})}else{if(c.status=="error"){$.error(c.message)}else{$.alert(c.message)}}}}});return false}},cancel:{label:"\u5173 \u95ed",className:"btn-default"}}};var shConfig={width:"900px",modalName:"shModal",fixedTarget:"#fixtop",buttons:{}};

